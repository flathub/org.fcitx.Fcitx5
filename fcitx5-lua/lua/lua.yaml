name: lua
build-options:
  prefix: /app/addons/Lua
  prepend-pkg-config-path: /app/addons/Lua/lib/pkgconfig
  cflags: -fPIC -DLUA_USE_LINUX
sources:
  - type: archive
    url: https://www.lua.org/ftp/lua-5.4.4.tar.gz
    sha256: 164c7849653b80ae67bec4b7473b884bf5cc8d2dca05653475ec2ed27b9ebf61
    x-checker-data:
      type: anitya
      project-id: 1847
      stable-only: true
      url-template: https://www.lua.org/ftp/lua-$version.tar.gz
  - type: patch
    path: makefile-add-liblua.so-rule.patch
  - type: file
    path: configure
cleanup:
  - /addons/Lua/bin
  - /addons/Lua/lib/lua
  - /addons/Lua/man
  - /addons/Lua/share/lua
