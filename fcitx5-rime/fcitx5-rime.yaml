name: fcitx5-rime
buildsystem: cmake-ninja
build-options:
  prefix: /app/addons/Rime
  prepend-path: /app/addons/Rime/bin
  prepend-pkg-config-path: /app/addons/Rime/lib/pkgconfig
  prepend-ld-library-path: /app/addons/Rime/lib
post-install:
  - ./install_icons
sources:
  - type: archive
    url: https://download.fcitx-im.org/fcitx5/fcitx5-rime/fcitx5-rime-5.0.12.tar.xz
    sha256: 8b7e4945fc43c2815af2e2229ce71e19959ce24cdeffe92b42ae18522410eb12
    x-checker-data:
      type: html
      url: https://download.fcitx-im.org/fcitx5/fcitx5-rime/
      version-pattern: fcitx5-rime-([\d\.-]+).tar.xz
      url-template: https://download.fcitx-im.org/fcitx5/fcitx5-rime/fcitx5-rime-$version.tar.xz
  - type: file
    path: ../install_icons
modules:
  - librime/librime.yaml
  - librime-data/librime-data.yaml
