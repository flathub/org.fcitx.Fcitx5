name: m17n-lib
build-options:
  prefix: /app/addons/M17N
  prepend-pkg-config-path: /app/addons/M17N/lib/pkgconfig
config-opts:
  - --disable-static
  - --with-pkgconfigdir=/app/addons/M17N/lib/pkgconfig
make-args:
  - --jobs=1
sources:
  - type: archive
    url: https://download.savannah.gnu.org/releases/m17n/m17n-lib-1.8.0.tar.gz
    sha256: 78bacae7451822dfff62482ce4f9433c5ae82846e4c64b590541e29e800fe64a
    x-checker-data:
      type: anitya
      project-id: 1870
      stable-only: true
      url-template: https://download.savannah.gnu.org/releases/m17n/m17n-lib-$version.tar.gz
  - type: shell
    commands:
      - sed -i "s/freetype-config/pkg-config freetype2/" configure
cleanup:
  - /addons/M17N/bin
