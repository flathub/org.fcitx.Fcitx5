name: fcitx5-chinese-addons
buildsystem: cmake
build-options:
  prefix: /app/addons/ChineseAddons
  prepend-pkg-config-path: /app/addons/ChineseAddons/lib/pkgconfig
config-opts:
  - -DENABLE_TEST=OFF
  - -DENABLE_OPENCC=ON
  - -DENABLE_GUI=ON
  - -DENABLE_BROWSER=ON
  - -DUSE_WEBKIT=OFF
  - -DENABLE_CLOUDPINYIN=ON
post-install:
  - ./install_icons
sources:
  - type: archive
    url: https://download.fcitx-im.org/fcitx5/fcitx5-chinese-addons/fcitx5-chinese-addons-5.0.12_dict.tar.xz
    sha256: 66baebe7cf06cf73a52bbd96aad46e6d6ebd0c4b126b8ee2da7124bcdcb5207c
    x-checker-data:
      type: anitya
      project-id: 138238
      stable-only: true
      url-template: https://download.fcitx-im.org/fcitx5/fcitx5-chinese-addons/fcitx5-chinese-addons-${version}_dict.tar.xz
  - type: file
    path: ../install_icons
modules:
  - libime/libime.yaml
